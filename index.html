<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Prediction Mini App</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
* { box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, sans-serif; }

body {
    margin: 0;
    background: linear-gradient(180deg, #2b2a3d, #3c3b66);
    color: #fff;
}

/* HEADER */
.header {
    padding: 12px 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.connect {
    background: #28d7e5;
    color: #000;
    padding: 10px 16px;
    border-radius: 14px;
    font-weight: 600;
}

/* TABS */
.tabs {
    display: flex;
    justify-content: center;
    gap: 40px;
}

.tab {
    color: #aaa;
    font-size: 18px;
}

.tab.active {
    color: #a78bfa;
    border-bottom: 3px solid #4adee5;
    padding-bottom: 6px;
}

/* PAIR SWITCH */
.pairs {
    display: flex;
    justify-content: center;
    gap: 12px;
    margin: 16px;
}

.pair {
    padding: 8px 14px;
    border-radius: 12px;
    background: #1e1e2f;
    color: #aaa;
}

.pair.active {
    background: #4adee5;
    color: #000;
}

/* PRICE */
.price-box {
    margin: 12px 20px;
    padding: 14px;
    background: #12121a;
    border-radius: 18px;
}

.price {
    font-size: 28px;
    font-weight: bold;
}

/* TIMER */
.timer {
    margin: 0 20px;
    background: #1e1e2f;
    padding: 10px 14px;
    border-radius: 14px;
    display: inline-block;
}

/* CARD */
.card {
    margin: 20px;
    background: #232338;
    border-radius: 22px;
    padding: 16px;
}

.card-title {
    text-align: center;
    font-size: 22px;
    color: #4ade80;
}

.sub {
    text-align: center;
    color: #aaa;
    margin-bottom: 12px;
}

.inner {
    border: 2px solid #ec4899;
    border-radius: 18px;
    padding: 14px;
}

.big {
    font-size: 30px;
    color: #ec4899;
    font-weight: bold;
}

.row {
    display: flex;
    justify-content: space-between;
    margin-top: 8px;
    color: #bbb;
}

.actions {
    margin: 20px;
    background: #1f1f2e;
    border-radius: 22px;
    padding: 16px;
}

.btn {
    width: 100%;
    padding: 16px;
    border-radius: 16px;
    border: none;
    font-size: 18px;
    margin-top: 10px;
}

.up { background: #34d399; }
.down { background: #ec4899; }

.nav {
    position: fixed;
    bottom: 0;
    width: 100%;
    background: #1a1a2a;
    display: flex;
    justify-content: space-around;
    padding: 12px 0;
}
</style>
</head>

<body>

<div class="header">
    <div>üê∞</div>
    <div class="connect">–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è</div>
</div>

<div class="tabs">
    <div class="tab active">–ü—Ä–æ–≥–Ω–æ–∑</div>
    <div class="tab">–õ–æ—Ç–µ—Ä–µ—è</div>
</div>

<div class="pairs">
    <div class="pair active" onclick="setPair('BTCUSDT')">BTC</div>
    <div class="pair" onclick="setPair('ETHUSDT')">ETH</div>
    <div class="pair" onclick="setPair('BNBUSDT')">BNB</div>
</div>

<div class="price-box">
    <div class="price" id="price">‚Äî</div>
    <div id="symbol">BTCUSDT</div>
</div>

<div class="timer" id="timer">‚è± 05:00</div>

<div class="card">
    <div class="card-title">–í–í–ï–†–•</div>
    <div class="sub">2.0x –í—ã–ø–ª–∞—Ç–∞</div>

    <div class="inner">
        <div>–¶–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è</div>
        <div class="big" id="closePrice">‚Äî</div>
        <div class="row">
            <span>–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞</span>
            <span id="startPrice">‚Äî</span>
        </div>
    </div>
</div>

<div class="actions">
    <button class="btn up">–ó–∞–Ω—è—Ç—å –í–í–ï–†–•</button>
    <button class="btn down">–ó–∞–Ω—è—Ç—å –í–ù–ò–ó</button>
</div>

<div class="nav">
    <div>–°–¥–µ–ª–∫–∏</div>
    <div>–ë–µ—Å—Å—Ä–æ—á–Ω—ã–µ</div>
    <div>–ó–∞—Ä–∞–±–æ—Ç–∞—Ç—å</div>
    <div style="color:#a78bfa">–ò–≥—Ä–∞—Ç—å</div>
</div>

<script>
Telegram.WebApp.ready();
Telegram.WebApp.expand();

let symbol = 'BTCUSDT';
let startPrice = 0;
let timeLeft = 300;

function setPair(pair) {
    symbol = pair;
    document.getElementById('symbol').innerText = pair;
    document.querySelectorAll('.pair').forEach(p => p.classList.remove('active'));
    event.target.classList.add('active');
    startRound();
}

async function fetchPrice() {
    const res = await fetch(`https://api.binance.com/api/v3/ticker/price?symbol=${symbol}`);
    const data = await res.json();
    return parseFloat(data.price);
}

async function startRound() {
    timeLeft = 300;
    startPrice = await fetchPrice();
    document.getElementById('startPrice').innerText = startPrice.toFixed(2);
}

setInterval(async () => {
    const price = await fetchPrice();
    document.getElementById('price').innerText = `$${price.toFixed(2)}`;
    document.getElementById('closePrice').innerText = `$${price.toFixed(2)}`;
}, 2000);

setInterval(() => {
    timeLeft--;
    if (timeLeft <= 0) startRound();
    const m = String(Math.floor(timeLeft / 60)).padStart(2,'0');
    const s = String(timeLeft % 60).padStart(2,'0');
    document.getElementById('timer').innerText = `‚è± ${m}:${s}`;
}, 1000);

startRound();
</script>

</body>
</html>
